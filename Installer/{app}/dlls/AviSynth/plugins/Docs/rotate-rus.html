<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ru">
<head>
  <meta http-equiv="Content-Language" content="ru">
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>Rotate</title>
<link rel="stylesheet" type="text/css" href="../avisynth.css">
<!--
Automatically generated, don't change:
$Id$
-->
</head>
<body>
<h1>Rotate</h1>
<h2>Общая информация</h2>
<b>Автор:</b>Александр Балахнин 'Fizick'<br>
<b>Версия:</b> 1.3.3<br>
<b>Загрузка:</b> <a href="http:/avisynth.org.ru/">http://avisynth.org.ru/</a> <br>
<b>Категория:</b>  Геометрические плагины<br>
<b>Требования:</b> RGB32, YV12 цветовые форматы<br>
<b>Лицензия:</b> GPL
<hr>

<h2>Информация</h2>
<p>
Плагин Rotate производит поворот или сдвиг кадра на произвольный угол.
</p>
<p>Он может использоваться для коррекции перспективы любительских съемок или для специального эффекта.
Внутренние функции Avisynth TurnLeft и TurnRight могут повернуть изображение только на 90 градусов.
 Плагин Rotate - быстрее чем плагины Zoom (от WarpEnterprises) и
<code>EffectRotation</code> (из EffectsMany от vcmohan) и производит изображения хорошего качества (по-моему).
 Реализован метод (предложенный Alan Paeth) вращения растра посредством 3-х сдвигов.
 Пикслельная (линейная) интерполяция используется на каждом сдвиге.
 Размер (масштаб) и пропорции исходного изображения сохраняются.
</p>

<h2>Синтаксис и параметры</h2>

<p><code>Rotate</code> (<var>clip, float "angle", int "color",
 int "start", int "end", float "endangle", int "width", int "height")</var></p>

<p><code>HShear</code> (<var>clip, float "angle", int "color",
 int "start", int "end", float "endangle", int "width", int "height")</var></p>

<p><code>VShear</code> (<var>clip, float "angle", int "color",
 int "start", int "end", float "endangle", int "width", int "height")</var></p>

<p>Rotate - вращение, HShear - горизонтальный сдвиг, VShear - вертикальный сдвиг.</p>

<p>первый параметр - исходный клип.</p>

<p><var>angle</var> - угол вращения в градусах по часовой стрелке. По умолчанию 0.0</p>

<p><var>color</var> - цвет фоновой части клипа.
Целое или шестнадцатиричное число или глобальная цветовая константа типа like color_gray (смотри colors_rgb.avsi).
По умолчанию 0 (черный, color_black).</p>

<p><var>start</var> - начальный поворачиваемый кадр. По умолчанию 0.</p>

<p><var>end</var> - конечный поворачиваемый кадр. По умолчанию -1 (как последний кадр).</p>

<p><var>endangle</var> - угол поворота конечного кадра. По умолчанию равен <var>angle</var>.
Если другой, то угол вращения промежуточных кадров - линейная функция.</p>

<p><var>width</var> и <var>height</var> - размеры выходного кадра.
По умолчания 0 что быть равным размерам входного видео клипа. </p>


<h2>Пример</h2>
<pre>loadplugin("rotate.dll")
avisource("g:\test.avi")
converttoRGB32()
Rotate(1.0) # вращение на 1 градус
</pre>

<h2>Обсуждение</h2>
<p>doom9 forum at <a href="http://forum.doom9.org/showthread.php?t=131307">http://forum.doom9.org/showthread.php?t=131307</a></p>

<h2> Лицензия</h2>
<p>Плагин распространяется на условиях лицензии GNU GPL, без всяких гарантий.
Смотрите 'gpl-rus.txt'.<br>
Документация распространяется на условиях лицензии
<a href="http://creativecommons.org/licenses/by-sa/3.0/">CreativeCommons BY-SA 3.0 license.</a><br>
Прошу материальную помощь для поддержки.
</p>

<p>Исходный код основан на классе ImageRotate (с MMX оптимизацией) из<br>
 http://treskunov.net/anton/Software/doc/fast_and_high_quality_true_color_bitmap_rotation_function.html<br>
 Copyright (c) 2003 by Anton Treskunov<br>
 Permission to use, copy, modify, distribute and sell this software for any
 purpose is hereby granted without fee, provided that the above copyright
 notice appear in all copies and that both that copyright notice and this
 permission notice appear in supporting documentation.
</p>

<h2>Ревизии</h2>

<p>Версия 1.0 (29.10.2007) - начальная</p>
<p>Версия 1.1 (30.10.2007) - добавлен цветовой формат YV12 (медленный, без MMX оптимизации), исправлена ошибка с заполнением</p>
<p>Версия 1.2 (18.11.2007) - Точная (интерполированная) позиция центра вращения (в оригинале была округленной)</p>
<p>Версия 1.3 (16.12.2007) - Удалено промежуточное вращение для углов -45...0;  исправлены ошибки с RGB32;
   добавлены функции HShear и VShear; вращение интервала кадров</p>
<p>Версия 1.3.1 (02.07.2008) - Исправлена ошибка с angle=225 (спасибо mikeytown2 за доклад)</p>
<p>Версия 1.3.2 (25.07.2008) - Исправлена ошибка с YV12 (спасибо mikeytown2 за доклад)</p>
<p>Version 1.3.3 (09.09.2009) - Исправлена ошибка с постепенным поворотом (спасибо Terrachild за доклад)</p>

<h3><a href="rotate133.zip">Загрузить плагин Rotate версии 1.3.3</a></h3>

</body>
</html>
